# 他AIへの相談プロンプト集

このドキュメントは、語彙品質改善のために他のAI（Cursor, Gemini, Claude, ChatGPT, Codex）に相談する際のプロンプトをまとめたものです。

---

## 📋 基本コンテキスト（全AIに共通）

```
# 背景情報

私は英検（日本の英語能力試験）の問題生成システムを開発しています。
GPT-4o-mini を使用して問題を生成し、CEFRレベル（A1-C2）で語彙レベルを検証しています。

## 現状

### ✅ 成功している形式（語彙スコア 85-95%）
- **grammar_fill**: 15-25語の短文、文法穴埋め問題
- **opinion_speech**: 60-80語の中文、意見スピーチ問題
- **reading_aloud**: 50-80語の中文、音読用パッセージ

### ❌ 失敗している形式（語彙スコア 64-69%）
- **essay**: 120-150語の長文、エッセイ問題
- **long_reading**: 250-300語の超長文、読解問題

## 目標
- 語彙スコアを **95%以上** に改善（現在: 64-69%）
- 生成成功率を **80%以上**（3回以内に成功）
- Pre2レベル（CEFR A2-B1）の語彙のみを使用

## 課題
LLMが長文を生成すると、自然で流暢な英語にしようとして、ターゲットレベルを超える高度な語彙を使用してしまいます。

## 現在のプロンプト例（essay形式）
```typescript
"You are an expert English test creator for Japanese students preparing for Eiken Pre2 level.

Create an essay writing prompt about 'environmental conservation'.

Requirements:
- Target length: 120-150 words
- CEFR Level: A2-B1
- Use only words appropriate for Pre2 level

Output Format (JSON):
{
  "essay_prompt": "The essay question/prompt",
  "sample_essay": "A complete model essay (120-150 words)",
  ...
}"
```

## 検証方法
- 10,000+ 語の英検語彙データベース（単語ごとにCEFRレベル付き）
- 生成後、全単語をチェックして適合率を計算
- 目標: 95%以上の単語がターゲットレベル以下
```

---

## 🎯 プロンプト 1: プロンプトエンジニアリング専門家へ

**対象AI**: Cursor, Claude, ChatGPT

```
# 質問: LLMに特定語彙レベルを守らせるプロンプト戦略

私の英検問題生成システムで、長文（120-300語）を生成する際に、
LLMがターゲットレベル（CEFR A2-B1）を超える高度な語彙を使用してしまいます。

[上記の基本コンテキストを含める]

## 具体的な質問

1. **禁止語リストの効果**
   - プロンプトに「使ってはいけない単語リスト」を含めるのは効果的ですか？
   - 何語くらいまでなら実用的ですか？（10語？50語？100語？）

2. **許容語彙リストの提供**
   - 逆に「使っても良い単語リスト（1000語）」を提供するのは？
   - トークン数が多くなりすぎませんか？

3. **Few-shot Examples**
   - 成功例を2-3個プロンプトに含めると効果的ですか？
   - どのような例が最も効果的ですか？

4. **Good/Bad Examples**
   - 「この文は良い例、この文は悪い例」を明示すると？
   - 対比させることで学習効果はありますか？

5. **System vs User Prompt**
   - 語彙制約はSystem promptに書くべき？User promptに書くべき？
   - どちらがより強く制約として機能しますか？

6. **Temperature設定**
   - 現在temperature=0.7ですが、下げるべきですか？
   - 語彙の多様性とレベル遵守のバランスは？

7. **反復フィードバック**
   - 失敗時に「前回使用した難しい単語: X, Y, Z」を次回プロンプトに含める
   - これは効果的ですか？何回までリトライすべき？

## 求めているアドバイス
- 最も効果的なプロンプト戦略の組み合わせ
- 実装優先順位
- 予想される成功率の向上幅
```

---

## 🎯 プロンプト 2: NLP/語彙処理専門家へ

**対象AI**: Gemini, Codex, Claude

```
# 質問: 生成後の語彙置換システムの設計

LLM生成後に、難しい語彙を自動的に簡単な同義語に置換するシステムを検討しています。

[上記の基本コンテキストを含める]

## 技術的な質問

1. **同義語データベース**
   - CEFR A2-B1レベルの同義語データベースはありますか？
   - WordNet、ConceptNet、どれが適切？
   - 自前で構築する場合の手順は？

2. **置換アルゴリズム**
   ```typescript
   // 疑似コード
   const difficultWords = detectWords(text, aboveLevel='B1');
   for (const word of difficultWords) {
     const simpler = findSynonym(word, maxLevel='B1');
     text = text.replace(word, simpler);
   }
   ```
   - この単純なアプローチで問題ありますか？
   - 文脈を考慮すべき？

3. **品詞の一致**
   - "sophisticated" (形容詞) → "good" (形容詞) は良いが
   - "facilitate" (動詞) → "easy" (形容詞) は文法エラー
   - 品詞を保持する必要がありますか？

4. **文脈の保持**
   - "observe" → "watch" vs "see"（意味が微妙に異なる）
   - 文脈を考慮した置換が必要？LLMを使うべき？

5. **置換後の自然さ**
   - 機械的に置換すると不自然な文になりませんか？
   - 置換後に文章全体を再チェックすべき？

6. **パフォーマンス**
   - 120-300語の文章で何秒かかる？
   - リアルタイム生成（10秒以内）に収まる？

## 求めているアドバイス
- 後処理アプローチの実現可能性
- 推奨ツール・ライブラリ
- 予想される改善効果（64% → ??%）
```

---

## 🎯 プロンプト 3: 教育・語彙レベル専門家へ

**対象AI**: ChatGPT, Gemini, Claude

```
# 質問: 英検Pre2レベルの語彙許容範囲

CEFRレベル分類が厳しすぎて、実際の英検問題とズレている可能性があります。

[上記の基本コンテキストを含める]

## 検証基準に関する質問

1. **実際の英検問題の語彙適合率**
   - 過去の英検Pre2問題を分析すると、何%がA2-B1範囲内？
   - 100%適合は現実的ですか？

2. **許容違反率**
   - 現在目標: 95%適合（5%の違反を許容）
   - これは厳しすぎ？緩すぎ？
   - 実際の試験では何%くらいが妥当？

3. **CEFRレベル分類の精度**
   - 使用している語彙データベースの分類は正確？
   - "sophisticated" が本当にC1レベルか？B2では？
   - レベル分類の揺らぎはどれくらいありますか？

4. **学習効果との バランス**
   - 少し難しい語彙（+1レベル）が混ざることは学習効果的？
   - 完全に適切なレベルだけだと逆効果？
   - 理想的な「ちょい難」比率は？

5. **長文形式の特性**
   - 120-300語の長文では、多様な語彙が必要
   - 同じ単語の繰り返しを避けると、自然に高度な語彙を使う
   - 長文では許容率を緩めるべき？（95% → 90%?）

6. **日本の学習者特性**
   - 日本人学習者は語彙レベルが高い傾向？
   - Pre2合格者の実際の語彙レベルは？
   - 文法とのバランスは？

## 求めているアドバイス
- 目標値（95%）の妥当性評価
- 長文形式での許容率調整の提案
- 実際の英検との整合性確認
```

---

## 🎯 プロンプト 4: システム設計専門家へ

**対象AI**: Cursor, Codex, Claude

```
# 質問: トレードオフと最適化戦略

語彙レベルと文章品質のトレードオフをどう扱うべきですか？

[上記の基本コンテキストを含める]

## システム設計の質問

1. **多層防御アプローチ**
   私は以下の3層で対策を考えています:
   - Layer 1: プロンプトで語彙制約（事前防止）
   - Layer 2: 生成後の語彙置換（事後修正）
   - Layer 3: 検証基準の調整（許容度調整）
   
   この戦略は妥当ですか？他に追加すべき層は？

2. **実装優先順位**
   以下の戦略を効果/コスト比でランク付けしてください:
   - [ ] 禁止語リストをプロンプトに追加
   - [ ] 許容語彙リストを提供
   - [ ] Few-shot examplesを含める
   - [ ] 反復リトライ with フィードバック
   - [ ] 後処理による語彙置換
   - [ ] モデル変更（gpt-4o-mini → gpt-4o）
   - [ ] 検証基準の緩和（95% → 90%）

3. **パフォーマンス vs 品質**
   - 現在の生成時間: essay 62秒、long_reading 80秒
   - 後処理を追加すると +10-20秒？
   - 許容できる最大生成時間は？

4. **コスト vs 品質**
   - gpt-4o-mini: $0.15/1M tokens（現在）
   - gpt-4o: $2.50/1M tokens（17倍）
   - essay/long_readingだけgpt-4oに変えるのは妥当？

5. **A/Bテスト設計**
   - 各戦略の効果を測定するテスト設計は？
   - 何問生成すれば統計的に有意？
   - 測定指標は語彙スコアだけで良い？

6. **長期的なスケーラビリティ**
   - 今後、他のレベル（1級、2級など）にも展開
   - レベルごとに異なる戦略が必要？
   - 汎用的なソリューションを設計すべき？

## 求めているアドバイス
- 最適な実装順序
- トレードオフの判断基準
- 測定・評価方法
```

---

## 🎯 プロンプト 5: 統合アドバイス（全AI共通）

**対象AI**: Cursor, Gemini, Claude, ChatGPT, Codex

```
# 総合質問: 最も効果的な解決策は？

4つのAIからアドバイスをもらってきました:
- Cursor: [バッチ処理実装の詳細提案]
- Gemini: [4形式リリース優先の戦略的アドバイス]
- Claude: [バッチ処理の具体的コード例]
- ChatGPT: [4形式リリース優先 + 後日デバッグ]

今回は語彙品質改善について相談します。

[上記の基本コンテキストを含める]

## 提案している戦略
1. LLMプロンプトの語彙制約強化（禁止語リスト、Few-shot examples）
2. 後処理による語彙置換システム
3. 語彙検証の許容度調整（95% → 90%?）
4. 反復リトライ with フィードバック
5. モデル変更実験（gpt-4o vs gpt-3.5-turbo）

## 質問
1. **どの戦略が最も効果的ですか？**
   - 予想される語彙スコア改善: 64% → ??%
   - 実装コスト（時間）と効果のバランス

2. **実装順序の推奨は？**
   - どの順番で実装すべき？
   - 早期に効果が出る"Quick Win"は？

3. **見落としている重要な点は？**
   - 他に考慮すべき要因は？
   - リスクや副作用は？

4. **代替アプローチはありますか？**
   - 私が考えていない解決策は？
   - より簡単/効果的な方法は？

## 期待する回答
- 優先度付きの実装計画
- 予想される効果と所要時間
- 成功の可能性評価（%）
```

---

## 📊 相談結果の記録テンプレート

各AIから回答をもらったら、以下の形式で記録してください:

```markdown
## [AI名] の回答（日付: YYYY-MM-DD）

### 推奨戦略
1. [戦略1]: [説明]
   - 優先度: 高/中/低
   - 予想効果: X% → Y%
   - 実装時間: N時間

2. [戦略2]: ...

### 重要な洞察
- [洞察1]
- [洞察2]

### 注意点・リスク
- [リスク1]
- [リスク2]

### 実装例・コードスニペット
```code
[提案されたコード]
```

### 総合評価
- 有用性: ⭐⭐⭐⭐⭐
- 実現可能性: ⭐⭐⭐⭐☆
- 独自性: ⭐⭐⭐☆☆
```

---

## 🎯 次のステップ

1. ✅ このプロンプト集を用意
2. ⏳ 各AIに順番に相談（Cursor → Gemini → Claude → ChatGPT → Codex）
3. ⏳ 回答を比較・統合
4. ⏳ 最も効果的な戦略を決定
5. ⏳ 実装計画を立てる
6. ⏳ 実装・テスト・評価

---

最終更新: 2025-11-21
